{
  "servers":[
    {
      "port": "9090",
      "host": "localhost",
      "queries":[
        {
          "obj": "kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.server.BrokerTopicMetrics.AllTopicsBytesIn",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=BrokerTopicMetrics,name=FetchRequestsPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.server.BrokerTopicMetrics.AllTopicsFailedFetchRequests",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=BrokerTopicMetrics,name=ProduceRequestsPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.server.BrokerTopicMetrics.AllTopicsFailedProduceRequests",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.server.BrokerTopicMetrics.AllTopicsMessagesIn",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.server.BrokerTopicMetrics.AllTopicsBytesOut",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ReplicaManager,name=UnderReplicatedPartitions",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.ReplicaManager.UnderReplicatedPartitions",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ReplicaManager,name=PartitionCount",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.ReplicaManager.PartitionCount",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ReplicaManager,name=LeaderCount",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.ReplicaManager.LeaderCount",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ReplicaManager,name=ISRShrinksPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.server.ReplicaManager.ISRShrinks",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ReplicaManager,name=IsrExpandsPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.server.ReplicaManager.ISRExpands",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.ReplicaFetcherManager.MaxLag",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ReplicaFetcherManager,name=MinFetchRate,clientId=Replica",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.ReplicaFetcherManager.MinFetchRate",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ProducerRequestPurgatory,name=NumDelayedRequests",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.ProducerRequestPurgatory.NumDelayedRequests",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=ProducerRequestPurgatory,name=PurgatorySize",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.ProducerRequestPurgatory.PurgatorySize",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=FetchRequestPurgatory,name=NumDelayedRequests",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.FetchRequestPurgatory.NumDelayedRequests",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.server:type=FetchRequestPurgatory,name=PurgatorySize",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.server.FetchRequestPurgatory.PurgatorySize",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.network:type=RequestMetrics,name=RequestsPerSec,request=Produce",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.network.RequestMetrics.ProduceRequests",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.network:type=RequestMetrics,name=RequestsPerSec,request=FetchFollower",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.network.RequestMetrics.FetchFollowerRequests",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.network:type=RequestMetrics,name=RequestsPerSec,request=FetchConsumer",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.network.RequestMetrics.FetchConsumerRequests",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.controller:type=KafkaController,name=ActiveControllerCount",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.controller.KafkaController.ActiveControllerCount",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.controller:type=KafkaController,name=OfflinePartitionsCount",
          "attr": [ "Value" ],
          "resultAlias": "sdkafka.controller.KafkaController.OfflinePartitionsCount",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.controller:type=ControllerStats,name=LeaderElectionRateAndTimeMs",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.controller.ControllerStats.LeaderElection",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        },
        {
          "obj": "kafka.controller:type=ControllerStats,name=UncleanLeaderElectionsPerSec",
          "attr": [ "Count" ],
          "resultAlias": "sdkafka.controller.ControllerStats.UncleanLeaderElection",
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.StackdriverWriter",
              "settings": {
                "token": "STACKDRIVER_API_KEY",
                "detectInstance": "AWS"
              }
            }
          ]
        }
      ]
    }
  ]
}
